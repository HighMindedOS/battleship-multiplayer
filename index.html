<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battleship Multiplayer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>‚öì Battleship Multiplayer ‚öì</h1>
            <div class="connection-status" id="connectionStatus">
                <span class="status-dot"></span>
                <span class="status-text">Offline</span>
            </div>
        </header>

        <main class="main-content">
            <!-- Lobby Screen -->
            <div id="lobbyScreen" class="screen active">
                <div class="lobby-container">
                    <h2>Willkommen bei Battleship!</h2>
                    <div class="lobby-options">
                        <div class="option-card">
                            <h3>Neues Spiel erstellen</h3>
                            <input type="text" id="playerName" placeholder="Dein Name" maxlength="20">
                            <button id="createLobbyBtn" class="btn btn-primary">
                                <span class="icon">üéÆ</span> Lobby erstellen
                            </button>
                        </div>
                        
                        <div class="divider">ODER</div>
                        
                        <div class="option-card">
                            <h3>Einem Spiel beitreten</h3>
                            <input type="text" id="joinPlayerName" placeholder="Dein Name" maxlength="20">
                            <input type="text" id="lobbyCode" placeholder="Lobby-Code eingeben" maxlength="6">
                            <button id="joinLobbyBtn" class="btn btn-secondary">
                                <span class="icon">üîó</span> Beitreten
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Waiting Screen -->
            <div id="waitingScreen" class="screen">
                <div class="waiting-container">
                    <h2>Lobby wartet auf Spieler...</h2>
                    <div class="lobby-info">
                        <div class="lobby-code-display">
                            <p>Lobby-Code:</p>
                            <h3 id="lobbyCodeDisplay">------</h3>
                            <button id="copyCodeBtn" class="btn btn-small">üìã Kopieren</button>
                        </div>
                        
                        <div class="players-list">
                            <h4>Spieler:</h4>
                            <div id="playersList">
                                <div class="player-item">
                                    <span class="player-icon">üë§</span>
                                    <span class="player-name">Warte auf Spieler 1...</span>
                                </div>
                                <div class="player-item">
                                    <span class="player-icon">üë§</span>
                                    <span class="player-name">Warte auf Spieler 2...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="leaveLobbyBtn" class="btn btn-danger">Lobby verlassen</button>
                </div>
            </div>

            <!-- Ship Placement Screen -->
            <div id="placementScreen" class="screen">
                <div class="placement-container">
                    <h2>Platziere deine Schiffe</h2>
                    
                    <div class="placement-layout">
                        <div class="ships-panel">
                            <h3>Verf√ºgbare Schiffe</h3>
                            <div id="availableShips" class="ships-list">
                                <!-- Ships will be generated by JS -->
                            </div>
                            <button id="randomPlaceBtn" class="btn btn-secondary">
                                <span class="icon">üé≤</span> Zuf√§llig platzieren
                            </button>
                            <button id="clearBoardBtn" class="btn btn-danger">
                                <span class="icon">üóëÔ∏è</span> Brett leeren
                            </button>
                            <button id="rotateBtn" class="btn btn-secondary">
                                <span class="icon">üîÑ</span> Rotieren (R)
                            </button>
                        </div>
                        
                        <div class="board-panel">
                            <div class="grid-container">
                                <div id="placementGrid" class="game-grid placement-grid"></div>
                            </div>
                        </div>
                        
                        <div class="info-panel">
                            <h3>Anleitung</h3>
                            <ul class="instructions">
                                <li>W√§hle ein Schiff aus der Liste</li>
                                <li>Klicke auf das Spielfeld zum Platzieren</li>
                                <li>Dr√ºcke R zum Rotieren</li>
                                <li>Alle Schiffe m√ºssen platziert werden</li>
                            </ul>
                            <button id="readyBtn" class="btn btn-success" disabled>
                                <span class="icon">‚úÖ</span> Bereit!
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Screen -->
            <div id="gameScreen" class="screen">
                <div class="game-container">
                    <div class="game-header">
                        <div class="player-info">
                            <span id="currentPlayer">Du bist dran!</span>
                        </div>
                        <div class="game-stats">
                            <span>Sch√ºsse: <strong id="shotCount">0</strong></span>
                            <span>Treffer: <strong id="hitCount">0</strong></span>
                            <span>Versenkt: <strong id="sunkCount">0</strong></span>
                        </div>
                        <button id="cheatsBtn" class="btn btn-cheat">
                            <span class="icon">üéØ</span> Cheats
                        </button>
                    </div>
                    
                    <div class="game-boards">
                        <div class="board-section">
                            <h3>Dein Spielfeld</h3>
                            <div class="grid-container">
                                <div id="playerGrid" class="game-grid"></div>
                            </div>
                            <div class="ships-status" id="playerShipsStatus"></div>
                        </div>
                        
                        <div class="board-divider"></div>
                        
                        <div class="board-section">
                            <h3>Gegnerisches Feld</h3>
                            <div class="grid-container">
                                <div id="enemyGrid" class="game-grid enemy-grid"></div>
                            </div>
                            <div class="ships-status" id="enemyShipsStatus"></div>
                        </div>
                    </div>
                    
                    <div class="game-log">
                        <h4>Spielverlauf</h4>
                        <div id="gameLog" class="log-content"></div>
                    </div>
                </div>
            </div>

            <!-- Game Over Screen -->
            <div id="gameOverScreen" class="screen">
                <div class="gameover-container">
                    <h2 id="gameOverTitle">Spiel beendet!</h2>
                    <div class="winner-display">
                        <span class="winner-icon" id="winnerIcon">üèÜ</span>
                        <h3 id="winnerText">Gewinner: </h3>
                    </div>
                    <div class="game-stats-final">
                        <h4>Statistiken</h4>
                        <div id="finalStats"></div>
                    </div>
                    <button id="newGameBtn" class="btn btn-primary">Neues Spiel</button>
                </div>
            </div>
        </main>

        <!-- Notifications -->
        <div id="notifications" class="notifications"></div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    
    <!-- Game Script -->
    <script type="module" src="script.js"></script>

</body>
</html>
